<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bloohax</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}

body {
  background: url("background.jpg") center / cover no-repeat;
  font-family: monospace;
  color: #eaffea;
  overflow: hidden;
  cursor: url("cursor.png") 0 0, auto;
}

body.busy { cursor: wait; }

.window {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 94%;
  max-width: 820px;
  background: rgba(0,0,0,0.75);
  border: 2px solid rgba(255,255,255,0.15);
  box-shadow: 4px 4px 0 rgba(0,0,0,0.9);
}

.title-bar {
  display: flex;
  align-items: center;
  padding: 6px 8px;
  background: rgba(25,25,25,0.9);
  cursor: grab;
  user-select: none;
}

.title-bar:active { cursor: grabbing; }

.window-buttons { display: flex; gap: 6px; }
.btn { width: 12px; height: 12px; border-radius: 2px; }
.close { background:#ff5f56; }
.minimize { background:#ffbd2e; }
.fullscreen { background:#27c93f; }

.app { padding: 14px; }
.logo {
  display: block;
  margin: 0 auto 16px;
  max-width: 380px;
  image-rendering: pixelated;
}

#console {
  background: rgba(0,0,0,0.6);
  border: 2px solid rgba(255,255,255,0.15);
  border-radius: 4px;
  padding: 10px;
  min-height: 280px;
  max-height: 360px;
  overflow-y: auto;
  white-space: pre-wrap;
  font-size: 13px;
}

.input-row { margin-top: 10px; display: flex; gap: 6px; }
.prompt { color: #8aff8a; font-weight: bold; }
input {
  flex: 1;
  background: black;
  color: #eaffea;
  border: 2px solid rgba(255,255,255,0.15);
  border-radius: 4px;
  padding: 6px;
  font-family: monospace;
  outline: none;
}

.teacher {
  display: none;
  padding: 20px;
  background: #f4f4f4;
  color: #111;
  font-family: "Times New Roman", serif;
  height: 480px;
}

.teacher.active { display: block; }
.hidden { display: none; }
</style>
</head>
<body>

<div class="window" id="window">
  <div class="title-bar" id="titleBar">
    <div class="window-buttons">
      <div class="btn close"></div>
      <div class="btn minimize"></div>
      <div class="btn fullscreen"></div>
    </div>
  </div>

  <div class="app">
    <img src="logo.png" class="logo" />

    <div id="console"></div>

    <div class="input-row" id="inputRow">
      <span class="prompt">&gt;</span>
      <input id="input" autofocus />
    </div>

    <div class="teacher" id="teacherScreen">
      <h2 style="text-align:center;text-decoration:underline;">
        English Literature Notes
      </h2>
      <p>Shakespeare explores ambition in <i>Macbeth</i>.</p>
      <p>Soliloquies reveal inner conflict.</p>
      <p><b>Homework:</b> Paragraph on Act 1.</p>
    </div>
  </div>
</div>

<script>
/* DRAG WINDOW */
const win = document.getElementById("window");
const bar = document.getElementById("titleBar");
let drag=false, dx=0, dy=0;
bar.onmousedown = e => { drag=true; dx=e.clientX-win.offsetLeft; dy=e.clientY-win.offsetTop; };
document.onmouseup = ()=>drag=false;
document.onmousemove = e=>{ if(!drag) return; win.style.left=e.clientX-dx+"px"; win.style.top=e.clientY-dy+"px"; win.style.transform="none"; };

/* APP */
const consoleEl=document.getElementById("console");
const inputEl=document.getElementById("input");
const teacherScreen=document.getElementById("teacherScreen");
const inputRow=document.getElementById("inputRow");

let stage="game";
let teacherMode=false;
let currentGame="";

const games=[
  {name:"Crypto Hack", options:["+Auto Input Password","+Get Crypto"], files:["autoinputpassword.txt","getcrypto.txt"]},
  {name:"Race", options:["+Instant Win"], files:["instantwin.txt"]},
  {name:"Tower Defense", options:["+Clear Enemies","+Get Tokens","+Set Round"], files:["clearenemies.txt","gettokens.txt","setround.txt"]},
  {name:"Cafe", options:["+Get Cash","+Max Level Items","+Stock Unlimited Food"], files:["getcash.txt","maxlevelitems.txt","stockunlimitedfood.txt"]},
  {name:"Factory", options:["+Add Cash","+Add Mega Bot","+Clear Ads"], files:["addcash.txt","addmegabot.txt","clearads.txt"]},
  {name:"Fishing Frenzy", options:["+Get Weight","+Set Frenzy Mode"], files:["getweight.txt","setfrenzymode.txt"]},
  {name:"Gold Quest", options:["+ Gold","+ Chest Reveal"], files:["+gold.txt","+chestreveal.txt"]}
];

function print(t=""){ consoleEl.textContent+=t+"\n"; consoleEl.scrollTop=consoleEl.scrollHeight; }

function fakeLag(cb){
  document.body.classList.add("busy");
  print("thinking...");
  setTimeout(()=>{
    consoleEl.textContent=consoleEl.textContent.replace(/thinking...\n$/,"");
    document.body.classList.remove("busy");
    cb();
  },400+Math.random()*600);
}

function loading(cb){
  let dots=0;
  const i=setInterval(()=>{
    consoleEl.textContent=consoleEl.textContent.replace(/Installing.*/,"")+"Installing"+ ".".repeat(dots++%4);
  },250);
  setTimeout(()=>{
    clearInterval(i);
    print("done");
    cb();
  },2000);
}

async function copyFile(file){
  try{
    const res=await fetch(file);
    const text=await res.text();
    await navigator.clipboard.writeText(text);
    print("[✓] Completed writing file!");
  } catch(e){
    print("❌ failed to copy file");
  }
}

function showGames(){
  print("Bloohax V1.3 01/25/... |Please Select a game:\n");
  games.forEach((g,i)=>print(`${i+1}. ${g.name}`));
  print("\nEnter your choice number:");
}

function showOptions(game){
  currentGame=game;
  print(`\n${game.name} selected!\nChoose an option:`);
  game.options.forEach((o,i)=>print(`${i+1}. ${o}`));
  print("\nEnter your choice number:");
}

inputEl.addEventListener("keydown", e=>{
  if(e.key!=="Enter" || teacherMode) return;
  const v=inputEl.value.trim();
  inputEl.value="";
  fakeLag(()=>{
    if(stage==="game"){
      const idx=parseInt(v)-1;
      if(idx<0 || idx>=games.length){ print("that doesnt work yet"); return; }
      stage="option";
      showOptions(games[idx]);
    } else if(stage==="option"){
      const idx=parseInt(v)-1;
      if(idx<0 || idx>=currentGame.files.length){ print("wrong option"); return; }
      loading(()=>copyFile(currentGame.files[idx]));
      stage="done";
    }
  });
});

/* TEACHER MODE TOGGLE */
document.addEventListener("keydown", e=>{
  if(e.key.toLowerCase()!=="t") return;
  teacherMode=!teacherMode;
  teacherScreen.classList.toggle("active");
  consoleEl.classList.toggle("hidden");
  inputRow.classList.toggle("hidden");
});

/* START */
showGames();
</script>

</body>
</html>
